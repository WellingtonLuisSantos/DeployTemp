<!DOCTYPE html>
<html>

<head>
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <title>@ViewBag.Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Font CSS (Via CDN) -->
    @*<link rel='stylesheet' type='text/css' href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700'>*@

    <link href="~/css/Teste.css" rel="stylesheet" />

    <!-- Theme CSS -->
    <link href="~/Content/themes/assets/skin/default_skin/css/themeA.css" rel="stylesheet" />
    <link href="~/Content/themes/assets/skin/default_skin/css/themeB.css" rel="stylesheet" />
    <link href="~/Content/themes/assets/skin/default_skin/css/themeC.css" rel="stylesheet" />
    <link href="~/Content/themes/base/admin-forms.css" rel="stylesheet" />
    <link href="~/Content/Site.css" rel="stylesheet" />


    <link href="~/Content/glyphicons-pro.css" rel="stylesheet" />

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
    <script src="~/Scripts/respond.js"></script>
    <script src="~/Scripts/jquery-3.1.0.min.js"></script>
    <script src="~/Scripts/jquery.blockUI.js"></script>
    @Scripts.Render("~/bundles/JsUi")
    @Scripts.Render("~/bundles/modernizr")
    @Scripts.Render("~/bundles/jqueryval")
    @Scripts.Render("~/Scripts/site")
    @Scripts.Render("~/bundles/method")
    <script src="~/Scripts/globalize.0.1.3/globalize.js"></script>
    <style>
        ::selection {
            background: #a4cbff; /* WebKit/Blink Browsers */
        }

        ::-moz-selection {
            background: #a4cbff; /* Gecko Browsers */
        }

        .modal-content {
            border: none !important;
        }

        .admin-form .panel-heading {
            padding-top: 5px !important;
            padding-bottom: 5px !important;
        }

        .panel-title {
            font-size: 15px !important;
        }

        .width-90 {
            width: 90px;
        }

        .control-label {
            text-align: left !important
        }
    </style>
    <script src="~/Scripts/theme/plugins/canvasbg/canvasbg.js"></script>
</head>

<body class="admin-layout-page ui-icons-page sb-l-o sb-r-c onload-check @ViewBag.CalendarClass">

    <div id="main" class="">

        <header class="navbar navbar-fixed-top bg-light">
            <div class="navbar-branding">
                <a class="navbar-brand" href="javascript:void(0)">
                    @*<img src="~/Images/logo-mutant-prancheta.png" style="width: 150px" />*@
                    <b> @Html.Raw(ViewBag.name_system)</b>
                </a>
                <span id="toggle_sidemenu_l" class="ad ad-lines" style="color:#@ViewBag.color_system!Important"></span>
            </div>



            <ul class="nav navbar-nav navbar-right">

                <li class="dropdown">
                    <a href="#" class="dropdown-toggle fw600 p15" data-toggle="dropdown">
                        @{
                            string nome = "Acesse sua conta";
                            if (Session["Usuario"] != null)
                            {
                                nome = ((CORE.Domain.Entities.User)Session["Usuario"]).Name;
                            }
                            @(nome)
                        }
                        <span class="caret caret-tp hidden-xs"></span>
                    </a>

                    <ul class="dropdown-menu list-group dropdown-persist w250" role="menu">
                        <li class="list-group-item">
                            @{
                                if (Session["Usuario"] != null)
                                {
                                    nome = ((CORE.Domain.Entities.User)Session["Usuario"]).Profile.Name;
                                }

                                <a href="javascript:void(0)" class="animated animated-short fadeInUp">
                                    <span class="fa fa-user"></span>@(nome)
                                </a>

                            }
                        </li>
                        <li class="list-group-item">
                            <a href="@Url.Action("ChangePassword", "Account")" class="animated animated-short fadeInUp">
                                <span class="fa fa-key"></span>Alterar Senha
                            </a>
                        </li>
                        <li class="list-group-item">
                            <a href="@Url.Action("LogOff", "Login")" class="animated animated-short fadeInUp">
                                <span class="fa fa-power-off"></span>Logout
                            </a>
                        </li>
                    </ul>
                </li>
            </ul>

            <ul class="nav navbar-nav navbar-right">

                <li class="dropdown">
                    @if (ViewBag.ListaPrazoExperiencia != null && ViewBag.ListaPrazoExperiencia.Count > 0)
                    {
                        <a href="#" class="dropdown-toggle fw600 p15" data-toggle="dropdown">
                            <i class="fa fa-bell pisca"></i>
                            <span class="caret caret-tp hidden-xs"></span>
                        </a>
                        <ul class="dropdown-menu list-group dropdown-persist w250" role="menu">
                            @foreach (var funcionario in ViewBag.ListaPrazoExperiencia)
                            {
                                <li class="list-group-item">
                                    <a href="@Url.Action("IndexGet", "Funcionario", new { Matricula = funcionario.Matricula })" class="animated animated-short fadeInUp">
                                        @(funcionario.Matricula) - @(funcionario.Nome) - @(funcionario.DtAdmissao.ToString("dd/MM/yyyy"))
                                    </a>
                                </li>
                            }
                        </ul>
                    }


                </li>

            </ul>

        </header>
        <aside id="sidebar_left" class="nano nano-primary affix" style="background-color:#@ViewBag.color_system!Important">

            <!-- Start: Sidebar Left Content -->
            <div class="sidebar-left-content nano-content">

                <!-- Start: Sidebar Header -->
                <header class="sidebar-header">
                    <div class="user-menu">
                        <div class="row text-center mbn">
                            <div class="col-xs-4">
                                <a href="dashboard.html" class="text-primary" data-toggle="tooltip" data-placement="top" title="Dashboard">
                                    <span class="glyphicon glyphicon-home"></span>
                                </a>
                            </div>
                            <div class="col-xs-4">
                                <a href="pages_messages.html" class="text-info" data-toggle="tooltip" data-placement="top" title="Messages">
                                    <span class="glyphicon glyphicon-inbox"></span>
                                </a>
                            </div>
                            <div class="col-xs-4">
                                <a href="pages_profile.html" class="text-alert" data-toggle="tooltip" data-placement="top" title="Tasks">
                                    <span class="glyphicon glyphicon-bell"></span>
                                </a>
                            </div>
                            <div class="col-xs-4">
                                <a href="pages_timeline.html" class="text-system" data-toggle="tooltip" data-placement="top" title="Activity">
                                    <span class="fa fa-desktop"></span>
                                </a>
                            </div>
                            <div class="col-xs-4">
                                <a href="pages_profile.html" class="text-danger" data-toggle="tooltip" data-placement="top" title="Settings">
                                    <span class="fa fa-gears"></span>
                                </a>
                            </div>
                            <div class="col-xs-4">
                                <a href="pages_gallery.html" class="text-warning" data-toggle="tooltip" data-placement="top" title="Cron Jobs">
                                    <span class="fa fa-flask"></span>
                                </a>
                            </div>
                        </div>
                    </div>
                </header>
                <!-- End: Sidebar Header -->
                <!-- Start: Sidebar Menu -->
                <ul class="nav sidebar-menu">
                    @{ CORE.Domain.Entities.User user = ((CORE.Domain.Entities.User)Session["Usuario"]); }

                    @{

                        if (user.Profile != null && user.Profile.ProfileXForm != null)
                        {
                            if (user.Profile.ProfileXForm.Count() > 0)
                            {
                                <li class="sidebar-label pt20">Menu</li>
                            }


                            if (user.Profile.ProfileXForm.Where(x => x.IdForm == (int)CORE.BackOffice.UI.Enum.FormEnum.User).Count() > 0)
                            {
                                <li>
                                    <a href="@Url.Action("Index", "User")">
                                        <span class="@user.Profile.ProfileXForm.Where(x => x.IdForm == (int)CORE.BackOffice.UI.Enum.FormEnum.User).First().Form.Icon"></span>
                                        <span class="sidebar-title">@user.Profile.ProfileXForm.Where(x => x.IdForm == (int)CORE.BackOffice.UI.Enum.FormEnum.User).First().Form.Descricao</span>
                                    </a>
                                </li>

                            }

                            if (user.Profile.ProfileXForm.Where(x => x.IdForm == (int)CORE.BackOffice.UI.Enum.FormEnum.Form).Count() > 0)
                            {
                                <li>
                                    <a href="@Url.Action("Index", "Form")">
                                        <span class="@user.Profile.ProfileXForm.Where(x => x.IdForm == (int)CORE.BackOffice.UI.Enum.FormEnum.Form).First().Form.Icon"></span>
                                        <span class="sidebar-title">@user.Profile.ProfileXForm.Where(x => x.IdForm == (int)CORE.BackOffice.UI.Enum.FormEnum.Form).First().Form.Descricao</span>
                                    </a>
                                </li>
                            }

                            if (user.Profile.ProfileXForm.Where(x => x.IdForm == (int)CORE.BackOffice.UI.Enum.FormEnum.Configuration).Count() > 0)
                            {
                                <li>
                                    <a href="@Url.Action("Index", "Configuration")">
                                        <span class="@user.Profile.ProfileXForm.Where(x => x.IdForm == (int)CORE.BackOffice.UI.Enum.FormEnum.Configuration).First().Form.Icon"></span>
                                        <span class="sidebar-title">@user.Profile.ProfileXForm.Where(x => x.IdForm == (int)CORE.BackOffice.UI.Enum.FormEnum.Configuration).First().Form.Descricao</span>
                                    </a>
                                </li>
                            }

                            if (user.Profile.ProfileXForm.Where(x => x.IdForm == (int)CORE.BackOffice.UI.Enum.FormEnum.Profile).Count() > 0)
                            {
                                <li>
                                    <a href="@Url.Action("Index", "Profile")">
                                        <span class="@user.Profile.ProfileXForm.Where(x => x.IdForm == (int)CORE.BackOffice.UI.Enum.FormEnum.Profile).First().Form.Icon"></span>
                                        <span class="sidebar-title">@user.Profile.ProfileXForm.Where(x => x.IdForm == (int)CORE.BackOffice.UI.Enum.FormEnum.Profile).First().Form.Descricao</span>

                                    </a>
                                </li>
                            }

                            if (user.Profile.ProfileXForm.Where(x => x.IdForm == (int)CORE.BackOffice.UI.Enum.FormEnum.ProfileForm).Count() > 0)
                            {
                                <li>
                                    <a href="@Url.Action("Index", "ProfileForm")">
                                        <span class="@user.Profile.ProfileXForm.Where(x => x.IdForm == (int)CORE.BackOffice.UI.Enum.FormEnum.ProfileForm).First().Form.Icon"></span>
                                        <span class="sidebar-title">@user.Profile.ProfileXForm.Where(x => x.IdForm == (int)CORE.BackOffice.UI.Enum.FormEnum.ProfileForm).First().Form.Descricao </span>
                                    </a>
                                </li>
                            }

                            if (user.Profile.ProfileXForm.Where(x => x.IdForm == (int)CORE.BackOffice.UI.Enum.FormEnum.Funcionario).Count() > 0)
                            {
                                <li>
                                    <a href="@Url.Action("Index", "Funcionario")">
                                        <span class="@user.Profile.ProfileXForm.Where(x => x.IdForm == (int)CORE.BackOffice.UI.Enum.FormEnum.Funcionario).First().Form.Icon"></span>
                                        <span class="sidebar-title">@user.Profile.ProfileXForm.Where(x => x.IdForm == (int)CORE.BackOffice.UI.Enum.FormEnum.Funcionario).First().Form.Descricao </span>
                                    </a>
                                </li>
                            }

                            if (user.Profile.ProfileXForm.Where(x => x.IdForm == (int)CORE.BackOffice.UI.Enum.FormEnum.Loja).Count() > 0)
                            {
                                <li>
                                    <a href="@Url.Action("Index", "loja")">
                                        <span class="@user.Profile.ProfileXForm.Where(x => x.IdForm == (int)CORE.BackOffice.UI.Enum.FormEnum.Loja).First().Form.Icon"></span>
                                        <span class="sidebar-title">@user.Profile.ProfileXForm.Where(x => x.IdForm == (int)CORE.BackOffice.UI.Enum.FormEnum.Loja).First().Form.Descricao </span>
                                    </a>
                                </li>
                            }

                            if (user.Profile.ProfileXForm.Where(x => x.IdForm == (int)CORE.BackOffice.UI.Enum.FormEnum.Cargo).Count() > 0)
                            {
                                <li>
                                    <a href="@Url.Action("Index", "Cargo")">
                                        <span class="@user.Profile.ProfileXForm.Where(x => x.IdForm == (int)CORE.BackOffice.UI.Enum.FormEnum.Cargo).First().Form.Icon"></span>
                                        <span class="sidebar-title">@user.Profile.ProfileXForm.Where(x => x.IdForm == (int)CORE.BackOffice.UI.Enum.FormEnum.Cargo).First().Form.Descricao </span>
                                    </a>
                                </li>
                            }
                        }

                    }

                </ul>


                <!-- End: Sidebar Menu -->
                <!-- Start: Sidebar Collapse Button -->
                <div class="sidebar-toggle-mini">
                    <a href="#">
                        <span class="fa fa-sign-out"></span>
                    </a>
                </div>
                <!-- End: Sidebar Collapse Button -->

            </div>
            <!-- End: Sidebar Left Content -->

        </aside>

        <section id="content_wrapper">
            @RenderBody()
        </section>
    </div>
    @Scripts.Render("~/bundles/AdminTheme")
    @{WriteTo(new StringWriter(), RenderSection("intellisense", required: false));}
    @RenderSection("scripts", required: false)
    <script src="~/Scripts/Master/Layout.js"></script>
    <script src="~/Scripts/Paginas/General.js"></script>
    @Scripts.Render("~/bundles/validations_pt-br")
    <script type="text/javascript">

        jQuery(document).ready(function () {

            "use strict";

            // Init Theme Core
            Core.init();

        });

        function ShowViewCreate() {

            $.ajax({
                url: '@Url.Action("Create")',
                type: 'GET',
                contentType: 'application/json',
                success: function (data) {

                    $('#divViewCreate').html(data);
                    changeView('ShowViewCreate');

                },
                error: function (data) {
                    alert("Error Submit");
                }
            });

        }

        function ShowViewEditWithController(controller ,id) {

            $.ajax({
                url: controller + '/Edit?Id=' + id,
                type: 'GET',
                contentType: 'application/json',
                success: function (data) {

                    $('#divViewEdit').html(data);
                    changeView('ShowViewEdit');

                },
                error: function (data) {
                    alert("Error Submit");
                }
            });

        }

           function ShowViewDetail(id) {

        $.ajax({
            url: '@Url.Action("Detail")?Id=' + id,
            type: 'GET',
            contentType: 'application/json',
            success: function (data) {

                $('#divViewDetail').html(data);
                changeView('ShowViewDetail');

            },
            error: function (data) {
                alert("Error Submit");
            }
        });

        }

        function ShowViewEdit(id) {

            $.ajax({
                url: '@Url.Action("Edit")?Id=' + id,
                type: 'GET',
                contentType: 'application/json',
                success: function (data) {

                    $('#divViewEdit').html(data);
                    changeView('ShowViewEdit');

                },
                error: function (data) {
                    alert("Error Submit");
                }
            });

        }

        function ShowViewCreateAndFinishSearch() {

            window.location = '@Url.Action("Create")';

        }

         function ExportPdf() {

             $("#TYPE_EXPORT").val("PDF");
             $('form').attr('action', '@Url.Action("ExportToPdf")').trigger('submit');

        }

         function ExportExcel() {

             $("#TYPE_EXPORT").val("XLS");
             $('form').attr('action', '@Url.Action("ExportToExcel")').trigger('submit');

         }


    </script>
</body>

</html>
